OBJ=modbus.o settings.o
LIBS=@LIBUSEFUL_BUNDLED@ @LIBS@
FLAGS=-g @DEFS@

all: $(OBJ) @LIBUSEFUL_BUNDLED@ 
	gcc $(FLAGS) -omodconductor.exe $(OBJ) main.c $(LIBS)


modbus.o: modbus.h modbus.c
	gcc -c modbus.c

settings.o: settings.h settings.c
	gcc -c settings.c


libUseful-bundled/libUseful.a:
	$(MAKE) -C libUseful-bundled

clean:
	rm -rf *.o *.exe */*.o */*.a */*.so.* */*.so
